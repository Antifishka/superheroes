"use strict";(self.webpackChunksuperheroes=self.webpackChunksuperheroes||[]).push([[498],{3535:function(n,e,r){r.d(e,{z:function(){return u}});var t,o=r(168),i=r(7691),a=r(3076),s=i.default.button(t||(t=(0,o.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 4px;\n    width: 100%;\n    padding: 8px;\n    border: none;\n    border-radius: ",";\n    cursor: pointer;\n    font-size: ",";\n\n    color: ",";\n    background-color: ",";\n\n    transition: ",";\n\n    :hover,\n    :focus{\n        background-color: ",";\n    }\n"])),a.r.radii.box,a.r.fontSizes.s,a.r.colors.white,a.r.colors.background,a.r.transition.main,a.r.colors.accent),c=r(184),u=function(n){var e=n.children;return(0,c.jsx)(s,{children:e})}},2658:function(n,e,r){r.d(e,{u:function(){return f}});var t,o=r(3682),i=r(2791),a=r(4164),s=r(168),c=r(7691),u=r(3076),l=c.default.div(t||(t=(0,s.Z)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: ",";\n    min-width: ",";\n    padding: ","px;\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n"])),u.r.sizes.mediumWidth,u.r.sizes.minWidth,u.r.space[5],u.r.colors.white,u.r.radii.box,u.r.shadows.box),d=r(184),p=document.querySelector("#modal-root"),f=function(n){var e=n.onClose,r=n.children;(0,i.useEffect)((function(){var n=function(n){"Escape"===n.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,a.createPortal)((0,d.jsx)(o.x,{position:"fixed",top:0,left:0,zIndex:"10",width:"100vw",height:"100vh",bg:"rgba(0, 0, 0, 0.5)",onClick:function(n){console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f"),n.currentTarget===n.target&&e()},children:(0,d.jsx)(l,{children:r})}),p)}},5373:function(n,e,r){r.d(e,{D:function(){return a}});var t=r(3682),o=r(3076),i=r(184),a=function(n){var e=n.children;return(0,i.jsx)(t.x,{pt:"16px",mb:"16px",textAlign:"center",color:o.r.colors.mainText,as:"h2",children:e})}},109:function(n,e,r){r.d(e,{K:function(){return o}});var t=r(6727),o=t.Ry().shape({nickname:t.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Only letters").trim().required("Nickname is required"),real_name:t.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Only letters").trim()})},1498:function(n,e,r){r.r(e),r.d(e,{default:function(){return Tn}});var t,o=r(2791),i=r(9434),a=r(6351),s=r(2526),c=r(4270),u=r(5373),l=r(9439),d=r(3682),p=r(168),f=r(7691),h=["title","titleId"];function m(){return m=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},m.apply(this,arguments)}function x(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function g(n,e){var r=n.title,i=n.titleId,a=x(n,h);return o.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":i},a),r?o.createElement("title",{id:i},r):null,t||(t=o.createElement("path",{d:"M12 20V12M12 12V4M12 12H20M12 12H4",stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var b,v,j,w,y,k,Z,z=o.forwardRef(g),C=(r.p,r(3076)),O=r(4874),S=f.default.p(b||(b=(0,p.Z)(["\n    font-size: ",";\n    "," {\n        font-size: ",";\n    }\n"])),C.r.fontSizes.s,(0,O.up)("mobile"),C.r.fontSizes.m),_=f.default.button(v||(v=(0,p.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border: none;\n    border-radius: ",";\n    cursor: pointer;\n\n    color: ",";\n    background-color: ",";\n\n    transition: ",";\n\n    :hover,\n    :focus{\n        background-color: ",";\n    }\n"])),C.r.radii.round,C.r.colors.secondaryText,C.r.colors.background,C.r.transition.main,C.r.colors.accent),A=(0,f.default)(z)(j||(j=(0,p.Z)(["\n    width: 24px;\n    height: 24px;\n"]))),E=r(2658),L=r(8014),I=r(5218),P=r(3535),T=f.default.form(w||(w=(0,p.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),D=f.default.label(y||(y=(0,p.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    transition: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return C.r.fontSizes.s}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.accent})),H=f.default.input(k||(k=(0,p.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return C.r.fontSizes.m}),(function(n){return C.r.fontSizes.s})),M=f.default.p(Z||(Z=(0,p.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),W=r(5705),q=r(109),B=r(2007),R=r.n(B),V=r(184),F=function(n){var e=n.onAdd,r=(0,i.v9)(a.HD),t=(0,i.I0)(),o=(0,W.TA)({initialValues:{nickname:"",real_name:"",origin_description:"",superpowers:"",catch_phrase:"",images:[]},validationSchema:q.K,onSubmit:function(n,o){var i=n.nickname,a=n.real_name,c=n.origin_description,u=n.superpowers,l=n.catch_phrase,d=n.images,p=o.resetForm,f=i.toLowerCase();if(r.find((function(n){return n.nickname.toLowerCase()===f})))return(0,I.ZP)("".concat(i," is already in superheroes."),{icon:"\u2139\ufe0f"});var h=new FormData;h.append("nickname",i),h.append("real_name",a),h.append("origin_description",c),h.append("superpowers",u),h.append("catch_phrase,",l);for(var m=0;m<d.length;m++)h.append("images",d[m]);console.log(h,"formData"),t((0,s.ze)(h)).then((function(){window.location.reload()})),I.ZP.success("Superhero added!"),e(),p()}}),c=o.values,u=o.errors,l=o.touched,p=o.handleBlur,f=o.handleChange,h=o.handleSubmit,m=o.setFieldValue;return(0,V.jsxs)(T,{onSubmit:h,children:[(0,V.jsx)(d.x,{fontSize:C.r.fontSizes.l,fontWeight:C.r.fontWeights.bold,as:"strong",children:"Create new superhero"}),(0,V.jsxs)(D,{children:["Nickname",(0,V.jsx)(H,{type:"text",name:"nickname",value:c.nickname,placeholder:"Superman",onChange:f,onBlur:p}),u.nickname&&l.nickname&&(0,V.jsx)(M,{children:u.nickname})]}),(0,V.jsxs)(D,{children:["Real name",(0,V.jsx)(H,{type:"text",name:"real_name",value:c.real_name,placeholder:"Clark Kent",onChange:f,onBlur:p}),u.real_name&&l.real_name&&(0,V.jsx)(M,{children:u.real_name})]}),(0,V.jsxs)(D,{children:["Description",(0,V.jsx)(H,{type:"text",name:"origin_description",value:c.origin_description,onChange:f})]}),(0,V.jsxs)(D,{children:["Superpowers",(0,V.jsx)(H,{type:"text",name:"superpowers",value:c.superpowers,onChange:f})]}),(0,V.jsxs)(D,{children:["Catchphrase",(0,V.jsx)(H,{type:"text",name:"catch_phrase",value:c.catch_phrase,onChange:f})]}),(0,V.jsxs)(D,{children:["Images",(0,V.jsx)(H,{type:"file",name:"images",multiple:!0,onChange:function(n){return m("images",n.currentTarget.files)}})]}),(0,V.jsxs)(P.z,{type:"submit",children:["Add superhero",(0,V.jsx)(L.jAq,{size:18})]})]})},N=F;F.propsType={onAdd:R().func.isRequired};var U,K,Y,$,G,J=function(){var n=(0,o.useState)(!1),e=(0,l.Z)(n,2),r=e[0],t=e[1],i=function(){return t((function(n){return!n}))};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(d.x,{display:"flex",justifyContent:"end",alignItems:"center",gridGap:3,mb:"16px",children:[(0,V.jsx)(S,{children:"Add superhero"}),(0,V.jsx)(_,{type:"button",onClick:i,"aria-label":"Add superhero",children:(0,V.jsx)(A,{})})]}),r&&(0,V.jsx)(E.u,{onClose:i,children:(0,V.jsx)(N,{onAdd:i})})]})},Q=r(2027),X=r(5440),nn=r(7107),en=r(4507),rn=r(2920),tn=r(2784),on=f.default.div(U||(U=(0,p.Z)(["\n    position: absolute; \n    bottom: 70px;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 32px;\n"]))),an=(0,nn.Z)({palette:{primary:{main:"#c41e3a"}}}),sn=function(){var n=(0,i.v9)(a.Zp),e=(0,i.v9)(a.eA),r=(0,i.I0)();return(0,V.jsx)(on,{children:(0,V.jsx)(en.Z,{theme:an,children:(0,V.jsx)(tn.Z,{spacing:3,children:(0,V.jsx)(rn.Z,{color:"primary",size:"large",count:e,page:n,onChange:function(n,e){r((0,X.Y)(e))}})})})})},cn=f.default.ul(K||(K=(0,p.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(288px, 1fr));\n  gap: 16px;\n  margin-bottom: 32px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),un=r(4165),ln=r(5861),dn=r(7689),pn=r(1087),fn=["title","titleId"];function hn(){return hn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},hn.apply(this,arguments)}function mn(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function xn(n,e){var r=n.title,t=n.titleId,i=mn(n,fn);return o.createElement("svg",hn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":t},i),r?o.createElement("title",{id:t},r):null,Y||(Y=o.createElement("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",strokeLinecap:"round",strokeLinejoin:"round"})),$||($=o.createElement("path",{d:"M15 9L9 15",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),G||(G=o.createElement("path",{d:"M9 9L15 15",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var gn,bn,vn,jn,wn,yn,kn,Zn=o.forwardRef(xn),zn=(r.p,f.default.li(gn||(gn=(0,p.Z)(["\n  position: relative;\n  padding: ","px;\n  border-radius: ",";\n  overflow: hidden;\n  box-shadow: ",";\n\n  transform: scale(1);\n  transition: ",";\n\n  &:hover,\n  &:focus{\n    transform: scale(1.03);\n  };\n"])),C.r.space[2],C.r.radii.box,C.r.shadows.box,C.r.transition.main)),Cn=f.default.button(bn||(bn=(0,p.Z)(["\n  padding: 8px;\n  position: absolute;\n  z-index: 10;\n  top: 10px;\n  right: 10px;\n  border: none;\n  cursor: pointer;\n\n  color: ",";\n  background-color: transparent;\n\n  transition: ",";\n\n  :hover,\n  :focus{\n    color: ",";\n  }\n"])),C.r.colors.background,C.r.transition.main,C.r.colors.accent),On=(0,f.default)(Zn)(vn||(vn=(0,p.Z)(["\n  width: 30px;\n  height: 30px;\n  fill: currentColor;\n"]))),Sn=((0,f.default)(pn.rU)(jn||(jn=(0,p.Z)(["\n  color: inherit;\n"]))),f.default.img(wn||(wn=(0,p.Z)(["\n  width: 100%;\n  border-radius: ",";\n  height: 380px;\n  object-fit: cover;\n  margin-bottom: auto;\n"])),C.r.radii.box)),_n=f.default.div(yn||(yn=(0,p.Z)(["\n    padding: ","px;\n"])),C.r.space[3]),An=f.default.h4(kn||(kn=(0,p.Z)(["\n    font-size: ",";\n    text-align: center;\n\n    color: ",";\n"])),C.r.fontSizes.m,C.r.colors.mainText),En=r(3524),Ln=function(n){var e=n.id,r=n.nickname,t=n.images,o=(0,dn.TH)(),a=o.pathname,c=o.search,u="".concat(a).concat(c),l=(0,i.I0)(),d=function(){var n=(0,ln.Z)((0,un.Z)().mark((function n(){return(0,un.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l((0,s.oh)(e));case 2:window.location.reload();case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),p=null!==t&&void 0!==t&&t.length?t[0].path:En.Y;return(0,V.jsxs)(zn,{children:[(0,V.jsx)(Cn,{type:"button",onClick:d,children:(0,V.jsx)(On,{})}),(0,V.jsxs)(pn.rU,{to:"/".concat(e),state:{from:u},children:[(0,V.jsx)(Sn,{src:p,alt:r}),(0,V.jsx)(_n,{children:(0,V.jsx)(An,{children:r})})]})]})},In=r(5984),Pn=function(){var n=(0,i.v9)(a.HD);return(0,V.jsx)(cn,{children:null===n||void 0===n?void 0:n.map((function(n){var e=n._id,r=n.nickname,t=n.images;return(0,V.jsx)(Ln,{id:e,nickname:r,images:t},e||(0,In.x0)())}))})};function Tn(){var n=(0,i.I0)(),e=(0,i.v9)(a.xU),r=(0,i.v9)(a.zh),t=(0,i.v9)(a.Zp);(0,o.useEffect)((function(){n((0,s.YV)(t)),r&&I.ZP.error("No response from server!")}),[n,r,t]);var l=e&&!r;return(0,V.jsxs)(d.x,{p:"32px 0 142px",minHeight:"100%",as:"main",children:[(0,V.jsx)(c.q,{children:(0,V.jsx)("title",{children:"Home"})}),(0,V.jsx)(u.D,{children:"Superheroes"}),(0,V.jsx)(J,{}),l?(0,V.jsx)(Q.a,{}):(0,V.jsx)(Pn,{}),(0,V.jsx)(sn,{})]})}},6351:function(n,e,r){r.d(e,{HD:function(){return o},NT:function(){return i},Zp:function(){return c},eA:function(){return u},xU:function(){return a},zh:function(){return s}});var t=r(6916),o=function(n){return n.superheroes.superheroes},i=function(n){return n.superheroes.superheroDetails},a=function(n){return n.superheroes.isLoading},s=function(n){return n.superheroes.error},c=function(n){return n.superheroes.page},u=(0,t.P1)([function(n){return n.superheroes.perPage},function(n){return n.superheroes.total}],(function(n,e){return Math.ceil(e/n)}))}}]);
//# sourceMappingURL=498.f6deb836.chunk.js.map
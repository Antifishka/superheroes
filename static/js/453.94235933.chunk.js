"use strict";(self.webpackChunksuperheroes=self.webpackChunksuperheroes||[]).push([[453],{5373:function(n,e,r){r.d(e,{D:function(){return a}});var t=r(3682),o=r(3076),i=r(184),a=function(n){var e=n.children;return(0,i.jsx)(t.x,{pt:"16px",mb:"16px",textAlign:"center",color:o.r.colors.mainText,as:"h2",children:e})}},3453:function(n,e,r){r.r(e),r.d(e,{default:function(){return Pn}});var t,o,i,a=r(2791),s=r(9434),c=r(6351),l=r(6299),u=r(4270),d=r(5373),p=r(9439),f=r(3682),h=r(168),m=r(7691),x=r(3076),g=r(4874),b=m.default.p(t||(t=(0,h.Z)(["\n    font-size: ",";\n    "," {\n        font-size: ",";\n    }\n"])),x.r.fontSizes.s,(0,g.up)("mobile"),x.r.fontSizes.m),v=m.default.button(o||(o=(0,h.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border: none;\n    border-radius: ",";\n    cursor: pointer;\n\n    color: ",";\n    background-color: ",";\n\n    transition: ",";\n\n    :hover,\n    :focus{\n        background-color: ",";\n    }\n\n"])),x.r.radii.round,x.r.colors.secondaryText,x.r.colors.background,x.r.transition.main,x.r.colors.accent),j=["title","titleId"];function w(){return w=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},w.apply(this,arguments)}function y(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function k(n,e){var r=n.title,t=n.titleId,o=y(n,j);return a.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":t},o),r?a.createElement("title",{id:t},r):null,i||(i=a.createElement("path",{d:"M12 20V12M12 12V4M12 12H20M12 12H4",stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var Z,z,C,S,O,_=a.forwardRef(k),E=(r.p,r(4164)),L=m.default.div(Z||(Z=(0,h.Z)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: ",";\n    min-width: ",";\n    padding: ","px;\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n"])),x.r.sizes.mediumWidth,x.r.sizes.minWidth,x.r.space[5],x.r.colors.white,x.r.radii.box,x.r.shadows.box),A=r(184),I=document.querySelector("#modal-root"),P=function(n){var e=n.onClose,r=n.children;(0,a.useEffect)((function(){var n=function(n){"Escape"===n.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,E.createPortal)((0,A.jsx)(f.x,{position:"fixed",top:0,left:0,zIndex:"10",width:"100vw",height:"100vh",bg:"rgba(0, 0, 0, 0.5)",onClick:function(n){console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f"),n.currentTarget===n.target&&e()},children:(0,A.jsx)(L,{children:r})}),I)},T=r(9126),D=r(5218),H=m.default.form(z||(z=(0,h.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),M=m.default.label(C||(C=(0,h.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    transition: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return x.r.fontSizes.s}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.accent})),R=m.default.input(S||(S=(0,h.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return x.r.fontSizes.m}),(function(n){return x.r.fontSizes.s})),W=m.default.p(O||(O=(0,h.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),q=r(5705),B=r(6727),U=r(2007),V=r.n(U),F=B.Ry().shape({nickname:B.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/).required("Nickname is required"),real_name:B.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/)}),N=function(n){var e=n.onAdd,r=(0,s.v9)(c.HD),t=(0,s.I0)(),o=(0,q.TA)({initialValues:{nickname:"",real_name:"",origin_description:"",superpowers:"",catch_phrase:"",images:[]},validationSchema:F,onSubmit:function(n,o){var i=n.nickname,a=n.real_name,s=n.origin_description,c=n.superpowers,u=n.catch_phrase,d=n.images,p=o.resetForm,f=i.toLowerCase();if(r.find((function(n){return n.nickname.toLowerCase()===f})))return(0,D.ZP)("".concat(i," is already in superheroes."),{icon:"\u2139\ufe0f"});var h=new FormData;h.append("nickname",i),h.append("real_name",a),h.append("origin_description",s),h.append("superpowers",c),h.append("catch_phrase,",u),h.append("images,",d),console.log(h,"formData"),t((0,l.ze)(h)),D.ZP.success("Superhero added!"),e(),p()}}),i=o.values,a=o.errors,u=o.touched,d=o.handleBlur,p=o.handleChange,h=o.handleSubmit;return(0,A.jsxs)(H,{onSubmit:h,children:[(0,A.jsx)(f.x,{fontSize:x.r.fontSizes.l,fontWeight:x.r.fontWeights.bold,as:"strong",children:"Create new superhero"}),(0,A.jsxs)(M,{children:["Nickname",(0,A.jsx)(R,{type:"text",name:"nickname",value:i.nickname,placeholder:"Superman",onChange:p,onBlur:d}),a.nickname&&u.nickname&&(0,A.jsx)(W,{children:a.nickname})]}),(0,A.jsxs)(M,{children:["Real name",(0,A.jsx)(R,{type:"text",name:"real_name",value:i.real_name,placeholder:"Clark Kent",onChange:p,onBlur:d}),a.real_name&&u.real_name&&(0,A.jsx)(W,{children:a.real_name})]}),(0,A.jsxs)(M,{children:["Description",(0,A.jsx)(R,{type:"text",name:"origin_description",value:i.origin_description,onChange:p})]}),(0,A.jsxs)(M,{children:["Superpowers",(0,A.jsx)(R,{type:"text",name:"superpowers",value:i.superpowers,onChange:p})]}),(0,A.jsxs)(M,{children:["Catchphrase",(0,A.jsx)(R,{type:"text",name:"catch_phrase",value:i.catch_phrase,onChange:p})]}),(0,A.jsxs)(M,{children:["images",(0,A.jsx)(R,{type:"text",name:"images",value:i.images,onChange:p})]}),(0,A.jsxs)("button",{type:"submit",children:["Add superhero",(0,A.jsx)(T.im1,{})]})]})},Y=N;N.propsType={onAdd:V().func.isRequired};var Q,$,G,K,J,X=function(){var n=(0,a.useState)(!1),e=(0,p.Z)(n,2),r=e[0],t=e[1],o=function(){return t((function(n){return!n}))};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(f.x,{display:"flex",justifyContent:"end",alignItems:"center",gridGap:3,mb:"16px",children:[(0,A.jsx)(b,{children:"Add superhero"}),(0,A.jsx)(v,{type:"button",onClick:o,"aria-label":"Add superhero",children:(0,A.jsx)(_,{})})]}),r&&(0,A.jsx)(P,{onClose:o,children:(0,A.jsx)(Y,{onAdd:o})})]})},nn=r(2027),en=r(2844),rn=r(7107),tn=r(4507),on=r(2920),an=r(2784),sn=m.default.div(Q||(Q=(0,h.Z)(["\n    position: absolute; \n    bottom: 70px;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 32px;\n"]))),cn=(0,rn.Z)({palette:{primary:{main:"#c41e3a"}}}),ln=function(){var n=(0,s.v9)(c.Zp),e=(0,s.v9)(c.RQ),r=(0,s.v9)(c.mS),t=(0,s.I0)(),o=Math.ceil(r/e);console.log(o,"totalPages");return(0,A.jsx)(sn,{children:(0,A.jsx)(tn.Z,{theme:cn,children:(0,A.jsx)(an.Z,{spacing:3,children:(0,A.jsx)(on.Z,{color:"primary",size:"large",count:o,page:n,onChange:function(n,e){t((0,en.Y)(e))}})})})})},un=m.default.ul($||($=(0,h.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(288px, 1fr));\n  gap: 16px;\n  margin-bottom: 32px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),dn=r(7689),pn=r(1087),fn=["title","titleId"];function hn(){return hn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},hn.apply(this,arguments)}function mn(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function xn(n,e){var r=n.title,t=n.titleId,o=mn(n,fn);return a.createElement("svg",hn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":t},o),r?a.createElement("title",{id:t},r):null,G||(G=a.createElement("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",strokeLinecap:"round",strokeLinejoin:"round"})),K||(K=a.createElement("path",{d:"M15 9L9 15",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),J||(J=a.createElement("path",{d:"M9 9L15 15",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var gn,bn,vn,jn,wn,yn,kn,Zn=a.forwardRef(xn),zn=(r.p,m.default.li(gn||(gn=(0,h.Z)(["\n  position: relative;\n  padding: ","px;\n  border-radius: ",";\n  overflow: hidden;\n  box-shadow: ",";\n\n  transform: scale(1);\n  transition: ",";\n\n  &:hover,\n  &:focus{\n    transform: scale(1.03);\n  };\n"])),x.r.space[2],x.r.radii.box,x.r.shadows.box,x.r.transition.main)),Cn=m.default.button(bn||(bn=(0,h.Z)(["\n  padding: 8px;\n  position: absolute;\n  z-index: 10;\n  top: 10px;\n  right: 10px;\n  border: none;\n  cursor: pointer;\n\n  color: ",";\n  background-color: transparent;\n\n  transition: ",";\n\n  :hover,\n  :focus{\n    color: ",";\n  }\n"])),x.r.colors.background,x.r.transition.main,x.r.colors.accent),Sn=(0,m.default)(Zn)(vn||(vn=(0,h.Z)(["\n  width: 30px;\n  height: 30px;\n  fill: currentColor;\n"]))),On=((0,m.default)(pn.rU)(jn||(jn=(0,h.Z)(["\n  color: inherit;\n"]))),m.default.img(wn||(wn=(0,h.Z)(["\n  width: 100%;\n  border-radius: ",";\n  height: 380px;\n  object-fit: cover;\n  margin-bottom: auto;\n"])),x.r.radii.box)),_n=m.default.div(yn||(yn=(0,h.Z)(["\n    padding: ","px;\n"])),x.r.space[3]),En=m.default.h4(kn||(kn=(0,h.Z)(["\n    font-size: ",";\n    text-align: center;\n\n    color: ",";\n"])),x.r.fontSizes.m,x.r.colors.mainText),Ln=r(3524),An=function(n){var e,r=n.id,t=n.nickname,o=n.images,i=(0,dn.TH)(),a=i.pathname,c=i.search,u="".concat(a).concat(c),d=(0,s.I0)();return(0,A.jsxs)(zn,{children:[(0,A.jsx)(Cn,{type:"button",onClick:function(){return d((0,l.oh)(r))},children:(0,A.jsx)(Sn,{})}),(0,A.jsxs)(pn.rU,{to:"/".concat(r),state:{from:u},children:[(0,A.jsx)(On,{src:(null===(e=o[0])||void 0===e?void 0:e.path)||Ln.Y,alt:t}),(0,A.jsx)(_n,{children:(0,A.jsx)(En,{children:t})})]})]})},In=function(){var n=(0,s.v9)(c.HD);return console.log(n,"fetch superheroes"),(0,A.jsx)(un,{children:null===n||void 0===n?void 0:n.map((function(n){var e=n._id,r=n.nickname,t=n.images;return(0,A.jsx)(An,{id:e,nickname:r,images:t},e)}))})};function Pn(){var n=(0,s.I0)(),e=(0,s.v9)(c.xU),r=(0,s.v9)(c.zh),t=(0,s.v9)(c.Zp);(0,a.useEffect)((function(){n((0,l.YV)(t)),r&&D.ZP.error("No response from server!")}),[n,r,t]);var o=e&&!r;return(0,A.jsxs)(f.x,{p:"32px 0 142px",minHeight:"100%",as:"main",children:[(0,A.jsx)(u.q,{children:(0,A.jsx)("title",{children:"Home"})}),(0,A.jsx)(d.D,{children:"Superheroes"}),(0,A.jsx)(X,{}),o?(0,A.jsx)(nn.a,{}):(0,A.jsx)(In,{}),(0,A.jsx)(ln,{})]})}},6351:function(n,e,r){r.d(e,{HD:function(){return t},RQ:function(){return o},Zp:function(){return c},mS:function(){return i},xU:function(){return a},zh:function(){return s}});var t=function(n){return n.superheroes.superheroes},o=function(n){return n.superheroes.perPage},i=function(n){return n.superheroes.total},a=function(n){return n.superheroes.isLoading},s=function(n){return n.superheroes.error},c=function(n){return n.pagination}}}]);
//# sourceMappingURL=453.94235933.chunk.js.map
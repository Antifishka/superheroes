"use strict";(self.webpackChunksuperheroes=self.webpackChunksuperheroes||[]).push([[498],{2658:function(n,e,r){r.d(e,{u:function(){return f}});var t,o=r(3682),i=r(2791),a=r(4164),s=r(168),c=r(7691),l=r(3076),u=c.default.div(t||(t=(0,s.Z)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    max-width: ",";\n    min-width: ",";\n    padding: ","px;\n    background-color: ",";\n    border-radius: ",";\n    box-shadow: ",";\n"])),l.r.sizes.mediumWidth,l.r.sizes.minWidth,l.r.space[5],l.r.colors.white,l.r.radii.box,l.r.shadows.box),d=r(184),p=document.querySelector("#modal-root"),f=function(n){var e=n.onClose,r=n.children;(0,i.useEffect)((function(){var n=function(n){"Escape"===n.code&&(console.log("\u041d\u0430\u0436\u0430\u043b\u0438 ESC, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0430\u043b\u043a\u0443"),e())};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[e]);return(0,a.createPortal)((0,d.jsx)(o.x,{position:"fixed",top:0,left:0,zIndex:"10",width:"100vw",height:"100vh",bg:"rgba(0, 0, 0, 0.5)",onClick:function(n){console.log("\u041a\u043b\u0438\u043a\u043d\u0443\u043b\u0438 \u0432 \u0431\u0435\u043a\u0434\u0440\u043e\u043f"),n.currentTarget===n.target&&e()},children:(0,d.jsx)(u,{children:r})}),p)}},5373:function(n,e,r){r.d(e,{D:function(){return a}});var t=r(3682),o=r(3076),i=r(184),a=function(n){var e=n.children;return(0,i.jsx)(t.x,{pt:"16px",mb:"16px",textAlign:"center",color:o.r.colors.mainText,as:"h2",children:e})}},1498:function(n,e,r){r.r(e),r.d(e,{default:function(){return Ln}});var t,o,i,a=r(2791),s=r(9434),c=r(6351),l=r(2526),u=r(4270),d=r(5373),p=r(9439),f=r(3682),h=r(168),m=r(7691),x=r(3076),g=r(4874),v=m.default.p(t||(t=(0,h.Z)(["\n    font-size: ",";\n    "," {\n        font-size: ",";\n    }\n"])),x.r.fontSizes.s,(0,g.up)("mobile"),x.r.fontSizes.m),b=m.default.button(o||(o=(0,h.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n    border: none;\n    border-radius: ",";\n    cursor: pointer;\n\n    color: ",";\n    background-color: ",";\n\n    transition: ",";\n\n    :hover,\n    :focus{\n        background-color: ",";\n    }\n"])),x.r.radii.round,x.r.colors.secondaryText,x.r.colors.background,x.r.transition.main,x.r.colors.accent),j=["title","titleId"];function w(){return w=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},w.apply(this,arguments)}function y(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function k(n,e){var r=n.title,t=n.titleId,o=y(n,j);return a.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":t},o),r?a.createElement("title",{id:t},r):null,i||(i=a.createElement("path",{d:"M12 20V12M12 12V4M12 12H20M12 12H4",stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var Z,z,C,O,S=a.forwardRef(k),_=(r.p,r(2658)),A=r(9126),E=r(5218),L=m.default.form(Z||(Z=(0,h.Z)(["\n    display: flex;\n    flex-direction: column;\n    gap: ","px;\n\n    text-align: center;\n"])),(function(n){return n.theme.space[4]})),I=m.default.label(z||(z=(0,h.Z)(["\n    position: relative;   \n    width: 100%;\n    text-align: left;\n    font-size: ",";\n\n    transition: ",";\n\n    :focus-within{\n        color: ",";\n    }\n"])),(function(n){return x.r.fontSizes.s}),(function(n){return n.theme.transition.main}),(function(n){return n.theme.colors.accent})),P=m.default.input(C||(C=(0,h.Z)(["\n    margin-top: ","px; \n    padding-top: ","px;\n    padding-bottom: ","px;\n    padding-left: ","px;\n    padding-right: ","px;\n    width: 100%;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: ",";\n\n    font: inherit;\n    font-size: ",";\n\n    background-color: #fff;\n\n    ::placeholder {\n        font-size: ",";\n    }\n"])),(function(n){return n.theme.space[1]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.radii.normal}),(function(n){return x.r.fontSizes.m}),(function(n){return x.r.fontSizes.s})),T=m.default.p(O||(O=(0,h.Z)(["\n    color: ",";\n"])),(function(n){return n.theme.colors.error})),D=r(5705),H=r(6727),M=r(2007),W=r.n(M),q=r(184),B=H.Ry().shape({nickname:H.Z_().min(2,"Too Short!").max(50,"Too Long!").matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Only letters").required("Nickname is required"),real_name:H.Z_().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Only letters")}),R=function(n){var e=n.onAdd,r=(0,s.v9)(c.HD),t=(0,s.I0)(),o=(0,D.TA)({initialValues:{nickname:"",real_name:"",origin_description:"",superpowers:"",catch_phrase:"",images:[]},validationSchema:B,onSubmit:function(n,o){var i=n.nickname,a=n.real_name,s=n.origin_description,c=n.superpowers,u=n.catch_phrase,d=n.images,p=o.resetForm,f=i.toLowerCase();if(r.find((function(n){return n.nickname.toLowerCase()===f})))return(0,E.ZP)("".concat(i," is already in superheroes."),{icon:"\u2139\ufe0f"});var h=new FormData;h.append("nickname",i),h.append("real_name",a),h.append("origin_description",s),h.append("superpowers",c),h.append("catch_phrase,",u),h.append("images,",d.files),console.log(h,"formData"),t((0,l.ze)(h)),E.ZP.success("Superhero added!").then((function(){window.location.reload()})),e(),p()}}),i=o.values,a=o.errors,u=o.touched,d=o.handleBlur,p=o.handleChange,h=o.handleSubmit;return(0,q.jsxs)(L,{onSubmit:h,children:[(0,q.jsx)(f.x,{fontSize:x.r.fontSizes.l,fontWeight:x.r.fontWeights.bold,as:"strong",children:"Create new superhero"}),(0,q.jsxs)(I,{children:["Nickname",(0,q.jsx)(P,{type:"text",name:"nickname",value:i.nickname,placeholder:"Superman",onChange:p,onBlur:d}),a.nickname&&u.nickname&&(0,q.jsx)(T,{children:a.nickname})]}),(0,q.jsxs)(I,{children:["Real name",(0,q.jsx)(P,{type:"text",name:"real_name",value:i.real_name,placeholder:"Clark Kent",onChange:p,onBlur:d}),a.real_name&&u.real_name&&(0,q.jsx)(T,{children:a.real_name})]}),(0,q.jsxs)(I,{children:["Description",(0,q.jsx)(P,{type:"text",name:"origin_description",value:i.origin_description,onChange:p})]}),(0,q.jsxs)(I,{children:["Superpowers",(0,q.jsx)(P,{type:"text",name:"superpowers",value:i.superpowers,onChange:p})]}),(0,q.jsxs)(I,{children:["Catchphrase",(0,q.jsx)(P,{type:"text",name:"catch_phrase",value:i.catch_phrase,onChange:p})]}),(0,q.jsxs)(I,{children:["Images",(0,q.jsx)(P,{type:"file",name:"images",value:i.images,onChange:p,multiple:!0})]}),(0,q.jsxs)("button",{type:"submit",children:["Add superhero",(0,q.jsx)(A.im1,{})]})]})},N=R;R.propsType={onAdd:W().func.isRequired};var U,V,F,Y,$,G=function(){var n=(0,a.useState)(!1),e=(0,p.Z)(n,2),r=e[0],t=e[1],o=function(){return t((function(n){return!n}))};return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(f.x,{display:"flex",justifyContent:"end",alignItems:"center",gridGap:3,mb:"16px",children:[(0,q.jsx)(v,{children:"Add superhero"}),(0,q.jsx)(b,{type:"button",onClick:o,"aria-label":"Add superhero",children:(0,q.jsx)(S,{})})]}),r&&(0,q.jsx)(_.u,{onClose:o,children:(0,q.jsx)(N,{onAdd:o})})]})},K=r(2027),J=r(2844),Q=r(7107),X=r(4507),nn=r(2920),en=r(2784),rn=m.default.div(U||(U=(0,h.Z)(["\n    position: absolute; \n    bottom: 70px;\n    left: 0;\n    right: 0;\n    display: flex;\n    justify-content: center;\n    margin-bottom: 32px;\n"]))),tn=(0,Q.Z)({palette:{primary:{main:"#c41e3a"}}}),on=function(){var n=(0,s.v9)(c.Zp),e=(0,s.v9)(c.eA),r=(0,s.I0)();return(0,q.jsx)(rn,{children:(0,q.jsx)(X.Z,{theme:tn,children:(0,q.jsx)(en.Z,{spacing:3,children:(0,q.jsx)(nn.Z,{color:"primary",size:"large",count:e,page:n,onChange:function(n,e){r((0,J.Y)(e))}})})})})},an=m.default.ul(V||(V=(0,h.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(288px, 1fr));\n  gap: 16px;\n  margin-bottom: 32px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),sn=r(4165),cn=r(5861),ln=r(7689),un=r(1087),dn=["title","titleId"];function pn(){return pn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}return n},pn.apply(this,arguments)}function fn(n,e){if(null==n)return{};var r,t,o=function(n,e){if(null==n)return{};var r,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||(o[r]=n[r]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(n,r)&&(o[r]=n[r])}return o}function hn(n,e){var r=n.title,t=n.titleId,o=fn(n,dn);return a.createElement("svg",pn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":t},o),r?a.createElement("title",{id:t},r):null,F||(F=a.createElement("path",{d:"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21Z",strokeLinecap:"round",strokeLinejoin:"round"})),Y||(Y=a.createElement("path",{d:"M15 9L9 15",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),$||($=a.createElement("path",{d:"M9 9L15 15",stroke:"#ffffff",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var mn,xn,gn,vn,bn,jn,wn,yn=a.forwardRef(hn),kn=(r.p,m.default.li(mn||(mn=(0,h.Z)(["\n  position: relative;\n  padding: ","px;\n  border-radius: ",";\n  overflow: hidden;\n  box-shadow: ",";\n\n  transform: scale(1);\n  transition: ",";\n\n  &:hover,\n  &:focus{\n    transform: scale(1.03);\n  };\n"])),x.r.space[2],x.r.radii.box,x.r.shadows.box,x.r.transition.main)),Zn=m.default.button(xn||(xn=(0,h.Z)(["\n  padding: 8px;\n  position: absolute;\n  z-index: 10;\n  top: 10px;\n  right: 10px;\n  border: none;\n  cursor: pointer;\n\n  color: ",";\n  background-color: transparent;\n\n  transition: ",";\n\n  :hover,\n  :focus{\n    color: ",";\n  }\n"])),x.r.colors.background,x.r.transition.main,x.r.colors.accent),zn=(0,m.default)(yn)(gn||(gn=(0,h.Z)(["\n  width: 30px;\n  height: 30px;\n  fill: currentColor;\n"]))),Cn=((0,m.default)(un.rU)(vn||(vn=(0,h.Z)(["\n  color: inherit;\n"]))),m.default.img(bn||(bn=(0,h.Z)(["\n  width: 100%;\n  border-radius: ",";\n  height: 380px;\n  object-fit: cover;\n  margin-bottom: auto;\n"])),x.r.radii.box)),On=m.default.div(jn||(jn=(0,h.Z)(["\n    padding: ","px;\n"])),x.r.space[3]),Sn=m.default.h4(wn||(wn=(0,h.Z)(["\n    font-size: ",";\n    text-align: center;\n\n    color: ",";\n"])),x.r.fontSizes.m,x.r.colors.mainText),_n=r(3524),An=function(n){var e,r=n.id,t=n.nickname,o=n.images,i=(0,ln.TH)(),a=i.pathname,c=i.search,u="".concat(a).concat(c),d=(0,s.I0)(),p=function(){var n=(0,cn.Z)((0,sn.Z)().mark((function n(){return(0,sn.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d((0,l.oh)(r));case 2:window.location.reload();case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,q.jsxs)(kn,{children:[(0,q.jsx)(Zn,{type:"button",onClick:p,children:(0,q.jsx)(zn,{})}),(0,q.jsxs)(un.rU,{to:"/".concat(r),state:{from:u},children:[(0,q.jsx)(Cn,{src:(null===(e=o[0])||void 0===e?void 0:e.path)||_n.Y,alt:t}),(0,q.jsx)(On,{children:(0,q.jsx)(Sn,{children:t})})]})]})},En=function(){var n=(0,s.v9)(c.HD);return console.log(n,"fetch superheroes"),(0,q.jsx)(an,{children:null===n||void 0===n?void 0:n.map((function(n){var e=n._id,r=n.nickname,t=n.images;return(0,q.jsx)(An,{id:e,nickname:r,images:t},e)}))})};function Ln(){var n=(0,s.I0)(),e=(0,s.v9)(c.xU),r=(0,s.v9)(c.zh),t=(0,s.v9)(c.Zp);(0,a.useEffect)((function(){n((0,l.YV)(t)),r&&E.ZP.error("No response from server!")}),[n,r,t]);var o=e&&!r;return(0,q.jsxs)(f.x,{p:"32px 0 142px",minHeight:"100%",as:"main",children:[(0,q.jsx)(u.q,{children:(0,q.jsx)("title",{children:"Home"})}),(0,q.jsx)(d.D,{children:"Superheroes"}),(0,q.jsx)(G,{}),o?(0,q.jsx)(K.a,{}):(0,q.jsx)(En,{}),(0,q.jsx)(on,{})]})}},6351:function(n,e,r){r.d(e,{HD:function(){return o},NT:function(){return i},Zp:function(){return c},eA:function(){return l},xU:function(){return a},zh:function(){return s}});var t=r(6916),o=function(n){return n.superheroes.superheroes},i=function(n){return n.superheroes.superheroDetails},a=function(n){return n.superheroes.isLoading},s=function(n){return n.superheroes.error},c=function(n){return n.pagination},l=(0,t.P1)([function(n){return n.superheroes.perPage},function(n){return n.superheroes.total}],(function(n,e){var r=Math.ceil(e/n);return console.log(r,"totalPages"),r}))}}]);
//# sourceMappingURL=498.d7cdf1bd.chunk.js.map